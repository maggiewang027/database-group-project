#DROP DATABASE auction;

CREATE DATABASE auction
  DEFAULT CHARACTER SET utf8
  DEFAULT COLLATE utf8_general_ci;
  
#DROP USER 'auctadmin'@'localhost';
#FLUSH PRIVILEGES;
  
CREATE USER 'auctadmin'@'localhost'
	IDENTIFIED BY 'adminpassword';

GRANT SELECT, UPDATE, INSERT, DELETE
    ON auction.*
    TO 'auctadmin'@'localhost';

USE auction;

CREATE TABLE User
(
  userID CHAR(34) AUTO_INCREMENT PRIMARY KEY,
  displayName VARCHAR(50) NOT NULL,
  email VARCHAR(50) NOT NULL,
  password VARCHAR(50) NOT NULL,
  userType VARCHAR(50) NOT NULL
);

CREATE TABLE Category
(
  cateID CHAR(34) AUTO_INCREMENT PRIMARY KEY,
  cateName VARCHAR(50) NOT NULL
);

CREATE TABLE Item
(
  itemID CHAR(34) AUTO_INCREMENT PRIMARY KEY,
  itemName VARCHAR(50) NOT NULL,
  description TEXT NOT NULL,
  category VARCHAR(50) NOT NULL,
  startingPrice INTEGER NOT NULL,
  reservePrice INTEGER NOT NULL,
  endDate DATETIME NOT NULL,
  status VARCHAR(50) NOT NULL,
  sellerID CHAR(34) NOT NULL
);

CREATE TABLE BidItem
(
  itemID CHAR(34) AUTO_INCREMENT PRIMARY KEY,
  bidTime DATETIME NOT NULL,
  bidPrice INTEGER NOT NULL,
  buyerID CHAR(34) NOT NULL,
  status VARCHAR(50) NOT NULL
);

